<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Use console.assert in node | Wyatt</title>
	<link rel="shortcut icon" href="/static/images/favicon.ico">

	<!-- CSS -->
	<!--===============================================================-->
	<link href="/static/css/bootstrap.min.css" rel="stylesheet">
	<link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
	<link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
	<link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,300,300italic,400italic,600,600italic,700' rel='stylesheet' type='text/css'> 
	<link href="/static/css/theme.css" rel="stylesheet">
	<link href="/static/css/magnific-popup.css" rel="stylesheet">
	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>
<body>
	

<!-- NAVBAR-->
<!--===============================================================-->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="row">
      <div class="col-sm-4">
        <a class="navbar-brand navbar-brand-blog" data-scroll href="/index.html"><img src="/static/images/logo.png" style="max-height: 60px; max-width: 60px;" alt="logo"></a>
      </div>
      <div class="navbar-collapse collapse">
				<ul class="nav navbar-nav navbar-right">
					<li><a data-scroll href="/#portfolio">Portfolio</a></li>
          <li><a data-scroll href="/#cv">CV</a></li>
					<li><a data-scroll href="/#skills">Skills</a></li>
					<li><a data-scroll href="/blog.html">Blog</a></li>
					<li><a data-scroll href="/#contact"><span class="contact">Contact</span></a></li>
				</ul>
			</div>
    </div>
  </div>
</div>


<!-- INTRO-->
<!--===============================================================-->
<div class="bg-intro-blog" id="home">
	<div class="layer-intro-blog">
	</div>
</div>


<!-- BLOG-->
<!--===============================================================-->
<div class="bg-post">
	<div class="container">
		<div class="row row-blog">
			<div class="col-md-8 col-md-offset-2 wrapper-blog">

				<div class="row">
					<div class="col-sm-12">
						<h1 class="title-post">Use console.assert in node</h1>
						<p class="small author"><span class="green"></span></p>

						

<h3>Using console.assert instead of require('assert')</h3>

<p>There is a handy shortcut in the node.js global <code>console</code> to check if an expression is true and throw an exception if it's not.  The shortcut is <code>console.assert</code> and will perform the same action as executing <code>require('assert').ok</code>.  This is particularly useful for validating incoming parameters to a function.  Below is an example that checks if required parameter is provided and throw an exception if it's missing.</p>

<pre><code>function getUser (id) {
    console.assert(id, 'ID is required');
    ...
}
</code></pre>

<p>Traditionally, you would either have a helper assert function or would manually need to check that the ID is valid and then throw an Error.</p>

<h3>Prefer console.assert shortcut</h3>

<p>Even faster still is creating a shortcut to <code>console.assert</code> to prevent the extra lookup.  I would place this near the module requires and call it assert.  This should be safe as long as you do not depend on the assert module for anything outside of the default <code>ok</code> function.  Below is an example:</p>

<pre><code>var assert = console.assert;

function getUser (id) {
    assert(id, 'id is required');
    ...
}
</code></pre>

<h3>Footnote</h3>

<p>In researching this post I noticed that the <code>assert.ok</code> function actually checks <code>!!!(expression)</code> while <code>console.assert</code> is doing <code>!(expression)</code>.  Interestingly, they will both have the same result.  This would be untrue if you were checking <code>(expression)</code> vs. <code>!!(expression)</code>.  But, ! will convert the expression to a boolean, so you don't have to worry about truthiness.</p>


					</div>
				</div>

				<hr>

				<div class="row">
					<div class="col-sm-12">
						<ul class="pager">
							
								<li class="previous">
									<a href='/posts/node-response-splitting.html'>
										<span class="arrow">&larr;</span> Node HTTP Response Splitting
									</a>
								</li>
							
							
								<li class="next">
									<a href='/posts/deploying-hapi-to-modulus.html'>
										Deploying hapi to modulus <span class="arrow">&rarr;</span>
									</a>
								</li>
							
						</ul>
					</div>
				</div>

			</div>
		</div>
	</div>
</div>


<!-- FOOTER-->
<!--===============================================================-->
<div class="bg-footer">
  <div class="container">
    <div class="row text-center">
      <div class="col-sm-12">
        <a href="https://github.com/geek"><i class="fa fa-github"></i></a>
        <a href="https://twitter.com/wpreul"><i class="fa fa-twitter"></i></a>
        <a href="https://www.linkedin.com/in/nodejs"><i class="fa fa-linkedin"></i></a>
      </div>
    </div>
  </div>
</div>

<!-- FOOTER-BOTTOM-->
<!--===============================================================-->
<div class="bg-footer-bottom">
  <div class="container">
    <div class="row">
      <div class="col-sm-6">
        <p class="copyright"></p>
      </div>
      <div class="col-sm-6">
        <ul class="list-inline pull-right">
          <li class="border-right"><a href="#home" data-scroll>Top</a></li>
          <li class="border-right"><a href="/#portfolio" data-scroll>Portfolio</a></li>
          <li class="border-right"><a href="/#cv" data-scroll>CV</a></li>
          <li class="border-right"><a href="/#skills" data-scroll>Skills</a></li>
          <li class="border-right"><a href="/#contact" data-scroll>Contact</a></li>
          <li><a href="/blog.html">Blog</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>




	
		<!-- JAVASCRIPT-->
    <!--===============================================================-->
		<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.magnific-popup.min.js"></script>
    <script src="/static/js/smooth-scroll.js"></script>
    <script src="/static/js/jRespond.min.js"></script>
    <script src="/static/js/script.js"></script>
	
</body>
</html>
